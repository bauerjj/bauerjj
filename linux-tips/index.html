<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.2.2 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https:/github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>            Linux Tips      bauerjj.com      </title>




<meta name="description" content="I’m going to dedicate this page to be a “living document” of random linux tips that I stumble upon as I go through life">




<meta name="author" content="Justin Bauer">

<meta property="og:locale" content="en">
<meta property="og:site_name" content="bauerjj.com">
<meta property="og:title" content="Linux Tips">


  <link rel="canonical" href="https:/bauerjj.github.io/linux-tips/">
  <meta property="og:url" content="https:/bauerjj.github.io/linux-tips/">



  <meta property="og:description" content="I’m going to dedicate this page to be a “living document” of random linux tips that I stumble upon as I go through life">





  

  












  <script type="application/ld+json">
    {
      "@context" : "http:/schema.org",
      "@type" : "Person",
      "name" : "Justin Bauer",
      "url" : "https:/bauerjj.github.io/",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https:/bauerjj.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="bauerjj.com Feed">

<!-- http:/t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https:/bauerjj.github.io/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">
    <!-- start custom head snippets -->

<!-- insert favicons. use http:/realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--full">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http:/browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https:/bauerjj.github.io/">bauerjj.com</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/about/">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/year-archive/">Tech Posts</a></li>
          
            
            <li class="masthead__menu-item"><a href="http:/mcuhq.com">Microcontroller Stuff</a></li>
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/linux-tips/">Linux Tips</a></li>
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/stuff-to-do-in-phoenix/">Stuff to do in Phoenix, AZ</a></li>
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/documentaries/">Documentaries</a></li>
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/life-pro-tips/">Life Pro Tips</a></li>
          
            
            <li class="masthead__menu-item"><a href="https:/bauerjj.github.io/links/">Web Links</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    


  
	<div class="breadcrumbs-full">
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http:/schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http:/schema.org/ListItem">
          <a href="https:/bauerjj.github.io/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Linux Tips</li>
      
    
  </ol>
</nav>
	</div>
  


<div id="main" role="main">
  

  <article class="page-full" itemscope itemtype="http:/schema.org/CreativeWork">
    <meta itemprop="headline" content="Linux Tips">
    <meta itemprop="description" content="I’m going to dedicate this page to be a “living document” of random linux tips that I stumble upon as I go through life">
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Linux Tips
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>I’m going to dedicate this page to be a “living document” of random linux tips that I stumble upon as I go through life.</p>

<aside class="sidebar__right">
<nav class="toc">
    <header><h4 class="nav__title"><i class="fa fa-file-text"></i> On This Page</h4></header>
<ul class="toc__menu" id="markdown-toc">
  <li><a href="#jekyll" id="markdown-toc-jekyll">Jekyll</a></li>
  <li><a href="#linux-kernel" id="markdown-toc-linux-kernel">Linux Kernel</a>    <ul>
      <li><a href="#debugging" id="markdown-toc-debugging">Debugging</a></li>
      <li><a href="#common-various-commands" id="markdown-toc-common-various-commands">Common Various Commands</a></li>
      <li><a href="#yocto-stuff" id="markdown-toc-yocto-stuff">Yocto Stuff</a>        <ul>
          <li><a href="#yocto-errors" id="markdown-toc-yocto-errors">Yocto Errors</a>            <ul>
              <li><a href="#error-filesdirectories-were-installed-but-not-shipped-in-any-package-xxx" id="markdown-toc-error-filesdirectories-were-installed-but-not-shipped-in-any-package-xxx">Error: “Files/directories were installed, but not shipped in any package: xxx”</a></li>
              <li><a href="#error-qa-issue--not-found-in-the-base-feeds-ad10-coretex-blah-blah" id="markdown-toc-error-qa-issue--not-found-in-the-base-feeds-ad10-coretex-blah-blah">Error: “QA Issue: <package> not found in the base feeds (ad10 coretex-......blah blah)"</package></a></li>
            </ul>
          </li>
        </ul>
      </li>
      <li><a href="#random" id="markdown-toc-random">Random</a>        <ul>
          <li><a href="#cryptography" id="markdown-toc-cryptography">Cryptography</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

  </nav>
</aside>

<h2 id="jekyll">Jekyll</h2>

<ul>
  <li>Gems are located here: <code class="highlighter-rouge">C:\tools\ruby23\lib\ruby\gems\2.3.0\gems</code></li>
  <li>Run the webserver: <code class="highlighter-rouge">bundle exec jekyll serve</code></li>
  <li>To install new gems or update to newer version: <code class="highlighter-rouge">gem install</code></li>
  <li>To actually use the newer gem version: <code class="highlighter-rouge">bundle update</code></li>
  <li>See installed gems and their version: <code class="highlighter-rouge">gem list</code></li>
</ul>

<h1 id="linux-kernel">Linux Kernel</h1>

<h2 id="debugging">Debugging</h2>

<p>It is useful to look at the output from the kernel if it crashes so that you can see the root cause of the problem. This happened a bunch of times to me when developing kernel modules.</p>

<p>Follow this <a href="http:/blog.zedroot.org/linux-kernel-debuging-using-kdump-and-crash/">tutorial</a> to use ubuntu’s crash utility and <a href="https:/people.netfilter.org/hawk/presentations/debugging_conf2013/debug2013_kernel_panic_decode_JesperBrouer.pdf">here</a> for commands: Download the <a href="https:/launchpad.net/ubuntu/xenial/amd64/linux-image-4.4.0-53-generic-dbgsym/4.4.0-53.74">uncompressed kernel image</a> for ubuntu-xenial.</p>

<p>ex usage: <code class="highlighter-rouge">sudo crash /usr/lib/debug/boot/vmlinux-4.4.0-53-generic /var/crash/201701201431/dump.201701201431</code>
Type in <code class="highlighter-rouge">log</code> and scroll down till the last few seconds to see the root cause</p>

<h2 id="common-various-commands">Common Various Commands</h2>

<ul>
  <li><code class="highlighter-rouge">lsmod</code> = list current loaded modules
http:/free-electrons.com/doc/legacy/command-line/command_memento.pdf</li>
  <li><code class="highlighter-rouge">insmod/modprobe</code> = insert module</li>
  <li><code class="highlighter-rouge">rmmod</code> = remove module</li>
  <li><code class="highlighter-rouge">ifconfig -a</code> = lists all connectivity, even the deactivate ones. Use it to view how many bytes have been TX/RX</li>
  <li><code class="highlighter-rouge">history | grep xxxx</code> = filter history commands - http:/www.linfo.org/pipes.html</li>
  <li><code class="highlighter-rouge">dmesg | tail -20</code> = show last 20 lines of dmesg</li>
  <li>To search through the previous commandline output, use the following: <code class="highlighter-rouge">make | tee output.txt</code></li>
  <li><code class="highlighter-rouge">grep "warning" output.txt</code></li>
  <li>Use <code class="highlighter-rouge">sync</code> anytime after issuing a <code class="highlighter-rouge">dd</code> command</li>
  <li>To search for a specfic string in a bunch of files: <code class="highlighter-rouge">grep -rnw '/path/to/somewhere/' -e "pattern"</code>     <code class="highlighter-rouge">http:/stackoverflow.com/questions/16956810/how-to-find-all-files-containing-specific-text-on-linux</code></li>
  <li>Send the <code class="highlighter-rouge">SIGQUIT</code> signal with <code class="highlighter-rouge">Ctrl+\</code></li>
  <li><code class="highlighter-rouge">lsof | grep '&lt;process&gt;'</code> will list any process that are holding a handle on the given <process></process></li>
  <li><code class="highlighter-rouge">rm -rf &lt;dir&gt;</code> does not remove hidden files/folders!!!</li>
  <li><code class="highlighter-rouge">CTRL+D</code> will send an “end of file” to the running script, usually shutting it down</li>
  <li><code class="highlighter-rouge">rsync</code> looks to be useful in copying files remotely and locally</li>
  <li><code class="highlighter-rouge">udhcpc -i eth0</code> gets new IP from dhcp server for <code class="highlighter-rouge">eth0</code></li>
</ul>

<h2 id="yocto-stuff">Yocto Stuff</h2>

<ul>
  <li>
    <p>Use <a href="https:/www.yoctoproject.org/sites/yoctoproject.org/files/elc2013-kernel-lab.pdf">hands-on labs about kernel development</a></p>
  </li>
  <li><a href="https:/www.yoctoproject.org/sites/yoctoproject.org/files/elc2013-kernel-lab.pdf">Good resource for adding stuff to kernel</a></li>
  <li>Excellent resource on bitbake stuff <a href="https:/confluence.agjunction.net:8443/pages/viewpage.action?pageId=82481008">Yocto / Bitbake notes</a></li>
  <li>Page 19 shows how to tell if module was built and how to auto-load it
rootfs: build-root/poky/build-max-atom/tmp/work/max_atom-poky-linux/max-image-install/1.0-r0</li>
  <li>CheatSheet bitbake cmds: https:/community.nxp.com/docs/DOC-94953</li>
  <li>Another cheatsheet: http:/www.openembedded.org/wiki/Bitbake_cheat_sheet</li>
  <li>bitbake max-image-base and bitbake linux-yocto -f -c compile
main config: yocto/build-root/poky/meta-agj/meta-max/conf/distro/poky-max.conf
 PN - Name of package.
 PR - Revision of package. The default value is “r0”
 PV - Version of package.</li>
  <li>On deleting images: https:/lists.yoctoproject.org/pipermail/yocto/2012-July/008296.html
 bitbake -c clean TARGET
 then, bitbake TARGET</li>
  <li>To force more threads for compilation, use:  in local.conf</li>
  <li>If you run into build errors, run bitbake -c cleansstate <packagename></packagename></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>List Recipes :: bitbake-layers show-recipes</td>
          <td>less</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Good info on creating layers
bitbake-layers show-appends shows all of the .bbappend files</li>
  <li>It is vital that the S variable is set to ${WORKDIR} or else you may see “lic_files_chksum invalid: points to invalid location” errors. @see http:/www.yoctoproject.org/docs/1.7.1/ref-manual/ref-manual.html#var-S</li>
  <li>Good info on how to include files in the rootfs: http:/stackoverflow.com/questions/34067897/bitbake-not-installing-my-file-in-the-rootfs-image</li>
  <li>To learn how to replace the default splash image: https:/www.mail-archive.com/yocto@yoctoproject.org/msg08094.html</li>
  <li>Differences between, clean, cleanall, and cleansstate</li>
  <li>clean: Removes all output files for a target</li>
  <li>cleansstate:Removes all output files and shared state (sstate) cache for a target</li>
  <li>cleanall: Removes all output files, shared state (sstate) cache, and downloaded source files for a target</li>
</ul>

<h3 id="yocto-errors">Yocto Errors</h3>

<h4 id="error-filesdirectories-were-installed-but-not-shipped-in-any-package-xxx">Error: “Files/directories were installed, but not shipped in any package: xxx”</h4>

<p>This means that the recipe was successfully compiled, but doesn’t know what files to add to the resultant package. This can be resolved by adding this to the individual recipe file (for example, see the init-script.bb file inside of armadillo):
<code class="highlighter-rouge">FILES_${PN} += "init"</code>
This says to package the “init” file from the resultant recipe. Omitting this line will cause the above error. If you want to include the -dev binary, simply do:
<code class="highlighter-rouge">FILES_${PN}-dev += "init"</code>
The will place the packages inside of: <code class="highlighter-rouge">build/tmp/work/cortexa8hf-neon-poky-linux-gnueabi</code>. <a href="http:/www.yoctoproject.org/docs/latest/ref-manual/ref-manual.html#var-FILES">See here for more info</a></p>

<h4 id="error-qa-issue--not-found-in-the-base-feeds-ad10-coretex-blah-blah">Error: “QA Issue: <package> not found in the base feeds (ad10 coretex-......blah blah)"</package></h4>

<p>You get this error when bitbake can’t find the file in the PACKAGES directive. You can check in the <code class="highlighter-rouge">/tmp/work/cortexa.../&lt;package&gt;</code> directory to see that it did actually compile the source. Consult the mailing list for more info.
One solution was to add a bbappend file for the <package> that included one line: `ALLOW_EMPTY_${PN} = "1"`. This will get rid of the error, but it WON'T actually include anything since the <package> binary is missing in the work folder.</package></package></p>

<h2 id="random">Random</h2>

<h3 id="cryptography">Cryptography</h3>

<blockquote>
  <p>An analogy to public key encryption is that of a locked mail box with a mail slot. The mail slot is exposed and accessible to the public – its location (the  street address) is, in essence, the public key. Anyone knowing the street address can go to the door and drop a written message through the slot. However, only the person who possesses the key can open the mailbox and read the message.</p>
</blockquote>

<blockquote>
  <p>An analogy for digital signatures is the sealing of an envelope with a personal wax seal. The message can be opened by anyone, but the presence of the unique seal authenticates the sender.</p>
</blockquote>

        
      </section>

      <footer class="page__meta">
        
        


        
      </footer>

      

      
    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
      <li><a href="http:/github.com/bauerjj"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    <li><a href="https:/bauerjj.github.io/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Justin Bauer. Powered by <a href="http:/jekyllrb.com" rel="nofollow">Jekyll</a> &amp; modified version of <a href="https:/mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a> theme.</div>
      </footer>
    </div>

    <script src="https:/bauerjj.github.io/assets/js/main.min.js"></script>





  </body>
</html>
